<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Dashboard</title>
<link rel="stylesheet" href="dashboard.css">

<script>
// ğŸ” ProteÃ§Ã£o de acesso
const token = localStorage.getItem("token");
if (!token) {
  window.location.href = "login.html";
}
</script>

<style>
.user-area {
  display: flex;
  align-items: center;
  gap: 15px;
}

.user-area span {
  font-weight: bold;
}
</style>

</head>
<body>

<!-- Topbar -->
<header class="topbar">
  <div>
    <h1>GestÃ£o de Produtos ğŸ“¦</h1>
    <p>Controle total de sua operaÃ§Ã£o</p>
  </div>

  <div class="user-area">
    ğŸ‘¤ <span id="nomeUsuario"></span>
    <button onclick="logout()">Sair</button>
  </div>
</header>

<!-- ConteÃºdo -->
<main class="dashboard-bg">
  <div class="cards">

    <div class="card purple">
      <span class="icon">ï¼‹</span>
      
<button onclick="window.location.href='cadastro_produtos.html'" class="btn-login">
ğŸ“¦ Cadastro de Produtos
</button>
    </div>

    <div class="card pink">
      <span class="icon">âš¡</span>
      <p>Marketplace</p>
    </div>

    <div class="card blue">
      <span class="icon">ğŸ“„</span>
      <p>Notas Fiscais</p>
    </div>

    <div class="card green">
      <span class="icon">ğŸ’²</span>
      <p>Impostos</p>
    </div>

    <div class="card orange">
      <span class="icon">â¬†</span>
      <p>Gerenciar<br>DevoluÃ§Ãµes</p>
    </div>

    <!-- ğŸ”¥ Card Admin aparece sÃ³ para admin -->
    <div id="adminCard"></div>

  </div>
</main>

<script>
const role = localStorage.getItem("role");
const username = localStorage.getItem("username");

document.getElementById("nomeUsuario").innerText = username || "UsuÃ¡rio";

// ğŸ”¥ Mostrar card AdministraÃ§Ã£o somente para admin
if (role === "admin") {
  document.getElementById("adminCard").innerHTML = `
    <div class="card dark" onclick="window.location='admin.html'">
      <span class="icon">ğŸ‘¥</span>
      <p>AdministraÃ§Ã£o</p>
    </div>
  `;
}

function logout() {
  localStorage.clear();
  window.location.href = "login.html";
}
</script>

</body>
</html>
